Event.build('found-willow-branches-whip', {

  stages:[{
    pages:[
      { playerSpeaker:true, text:`I glance over at my rat, "You seem nervous {{C::character.firstName}}. Are whippings
          with branches like these common among your people?"` },
      { actorSpeaker:'C', text:`{{He}} sheepishly comes closer to me and says, "Yes, {{master}}. Very. The big scaven,
          they like to whip the smaller ones."` },
      { playerSpeaker:true, text:`I bring the tip of the switch up to {{his}} chest, gently flicking the tip over one
          of {{his}} nipples. "I see&hellip; and which were you? Did you enjoy whipping your fellow scaven or were you
          the one getting whipped?"` },
      { actorSpeaker:'C', text:`"Both."` },
      { playerSpeaker:true, text:`"I see. And now that you're here, and because I'm so much larger than you are, you
          think that I'd like to whip you a bit myself?"` },
    ]
  },{
    requires:['minion(C).has-tits'],
    pages:[{ text:`With a flick of the branch I open her vest up further and start rubbing the branch up and down her
      chest, brushing firmly against each of her hardening nipples in turn.` }],
  },{
    requires:['minion(C).has-cock'],
    pages:[{ text:`I trace a line down his chest with the tip down to his thigh, then raising it again I push the stick
      up under his loincloth and lift his ballsack gently with the tip of the branch.` }],
  },{
    pages:[
      { actorSpeaker:'C', text:`{{He}} inhales sharply as I toy with {{him}}, "Yes, {{master}}."` },
      { playerSpeaker:true, text:`I grin, "Well I'm glad we understand each other then. Tell me rat, where am I going
          to whip you?"` },
      { text:`It's not a question {{he}} was expecting. I can almost see all the thoughts racing in {{his}} head as
          {{he}} tries to think of an answer that would be the least punishing.` },
      { actorSpeaker:'C', text:`Finally {{he}} stammers, "M, My ass {{master}}?"` },
      { playerSpeaker:true, text:`I nod slowly, "You know what you need to do then yes?" {{He}} nods and quickly gets
          naked, then climbs on top of one of the old wooden tables. {{He}} gets up on {{his}} hands and knees first,
          then lowers {{his}} chest down onto the rough splintery surface, a position that pushes {{his}} ass as high
          into the air as possible.` },
      { text:`{{His}} long naked tail whips back and forth nervously in the air above {{him}} as I walk around the
          table slowly. Taking my time. Letting the tension build while admiring {{his}} upturned ass. I reach down and
          take hold of {{his}} knees suddenly, pulling them apart.` },
    ]
  },{
    requires:['minion(C).has-tits'],
    pages:[{ text:`It lowers her ass a bit, but with her legs spread open it leaves her puffy cunt lips completely exposed behind her.` }]
  },{
    requires:['minion(C).has-cock'],
    pages:[{ text:`It lowers his ass a bit, but with his legs open it leaves his dangling ballsack completely exposed behind him.` }]
  },{
    pages:[
      { playerSpeaker:true, text:`It's a position that's certain to make {{him}} even more frightened. "Now tell
          me&hellip; how many?"` },
      { actorSpeaker:'C', text:`The rat squirms on the tabletop, trying to come up with an acceptable answer. Finally
          {{he}} asks, "Thirteen {{master}}?"` },
      { playerSpeaker:true, text:`"Wrong!", I yell and suddenly slash at {{his}} ass with the willow branch, landing a
          blow eavenly across both ass cheeks.`, effects:['actor(C) fear 1']},
      { actorSpeaker:'C', text:`{{He}} howls and almost collapses against the tabletop but quickly recovers, returning
          to the ass up position. "Ahh! Don't know {{master}}."` },
      { playerSpeaker:true, text:`"Count then!" I growl and hit {{him}} again with the branch.`, effects:['actor(C) fear 1']},
      { actorSpeaker:'C', text:`{{He}} grunts as the branch slaps against {{his}} ass, "Ahh! Two!"` },
      { playerSpeaker:true, text:`"Do scaven start counting at two?" I slash at {{his}} ass again, this time landing a
          single blow vertically across {{his}} left cheek. "Start over!"`, effects:['actor(C) fear 1']},
      { actorSpeaker:'C', text:`"Ahh! One {{master}}!"` },
      { text:`Again, a vertical slash against {{his}} right cheek now.`, effects:['actor(C) fear 1']},
      { actorSpeaker:'C', text:`"Aghh! Two {{master}}!"` },
      { text:`Finally another horizontal blow, dangerously low this time.`, effects:['actor(C) fear 1']},
      { actorSpeaker:'C', text:`"Ooah! Three {{master}}."` },
      { playerSpeaker:true, text:`Finally, I place the branch down and start to massage {{his}} ass, firmly rubbing the
          places I just beat {{him}}. "There&hellip; just three. Isn't that kind of me?"` },
      { actorSpeaker:'C', text:`{{He}} groans and squirms in my grip, clearly {{his}} ass is sore and rubbing just
          makes {{him}} notice how sore {{he}} really is. "Uhh. Yes {{master}}. Thank you {{master}}."` },
      { text:`There's no blood. Scaven fur is quite thick and shielded {{him}} from the worst of it. Under the fur
          though there's going to be some significant bruising.` },
    ]
  },{
    requires:['minion(C).has-tits'],
    pages:[
      { playerSpeaker:true, text:`My hand roams lower, brushing against her swollen cunt. The contact makes her gasp.
          "Oh? And what's this?" While still keeping one hand rubbing and squeezing her sore ass I push the other
          between her legs, letting my finger sink between her pussy lips to rest firmly against her clit. "You've got
          an awfully wet pussy for a rat who's just had their ass whipped."` },
      { actorSpeaker:'C', text:`"Ahh&hellip; {{master}}&hellip; please?"` },
      { playerSpeaker:true, text:`I slowly but firmly begin to rub her swollen clit, matching the movements of her hips
          as she pushes back against me. "You want a reward little rat?"` },
      { actorSpeaker:'C', text:`Her pussy is absolutely dripping, soaking the back of my hand as I toy with her clit.
          Softly she sighs, "Yes."` },
      { text:`I finally stop kneading her sore ass and move my other hand to her pussy as well, and then without
          preamble I firmly shove a finger inside of her. She squeals and arches her back at the sudden invasion. My
          fingers pinch down on her clit, tugging on it, pulling her back onto my thrusting finger.` },
      { text:`It only takes her a dozen or so thrusts but suddenly she's cumming, groaning, digging her claws into the
          wooden table as she thrusts back hard against my finger. Finally, she collapses down onto the tabletop. I let
          my finger slip out of her, though I do give her ass one last hard slap before I let her get away.` },
      { actorSpeaker:'C', text:`She responds with a high pitched squeak, followed by a giggle as she reaches behind to
          rub her sore ass. "Mmm, thank you {{master}}."` },
    ]
  },{
    requires:['minion(C).has-cock'],
    pages:[
      { playerSpeaker:true, text:`My hand roams lower, brushing against his tight ballsack. The contact makes him gasp.
          I trace a finger around his balls, then reaching under him I find that his cock has grown rock hard. "Oh?
          What's this I'm feeling? You have an awfully hard cock for a rat who's just had their ass whipped."` },
      { actorSpeaker:'C', text:`While massaging his sore ass, I gently start rubbing two fingers up and down his
          {{C::cock.sixInch}} long shaft, pinching its thick head between my fingers when I reach it. "Ahh&hellip;
          {{master}}&hellip; please?"` },
      { playerSpeaker:true, text:`I finally wrap my fingers fully around his cock, squeezing it firmly though not
          rubbing quite yet. "You want a reward little rat?"` },
      { actorSpeaker:'C', text:`Softly he sighs, "Yes."` },
      { text:`I slowly start rubbing his cock, keeping my hand gripped tightly around it as he begins to thrust into my
          hand. My other hand keeps squeezing and kneading his sore ass cheeks, reminding him of the soreness there to
          keep his recent beating in the forefront of his mind.` },
      { text:`As I rub his ass my thumb strays closer to his ass crack, parting his cheeks while tugging at the side of
          his asshole. As his thrusting begins to grow more urgent I relax my grip around his cock, giving him just
          enough grip to let him hump my hand freely while still giving him just a little bit of friction.` },
      { text:`My hand presses against his ass in time with his thrusting while my thumb rests fully on his asshole, not
          entering him, just rubbing and pushing against the rim.` },
      { text:`He doesn't last much longer, but as soon as I feel him tense up and his cock begins to twitch I thrust my
          thumb fully into his ass, causing him to cry out in both pain and pleasure.` },
      { text:`His cum soon covers my hand completely and with a groan he collapses against the tabletop. I let my thumb
          slip out of him, though I do give his ass one last hard slap with my cum covered hand before I let him get
          away.` },
      { actorSpeaker:'C', text:`He responds with a loud squeak, followed by a chuckle as he reaches behind to rub his
          sore ass. "Mmm, thank you {{master}}."` },
    ]
  },{
    pages:[
      { narratorSpeaker:true, text:'Also&hellip' },
      { narratorSpeaker:true, text:`You can now craft times. You can start by crafting a basket to help your minion
          carry more when out foraging. However, in order to craft something you must first have the materials
          available for the item you want to create, so it may be another day until you have enough branches to make a
          basket.`, alert:{ unlock:'Crafting' }},
    ]
  }],

  onFinish: async choices => {
    const character = await Character.lookup(choices.event.actorIDs.C);
    await character.orgasmed();

    SexEvent.add({
      eventType: 'event',
      character: character,
      orgasmCount: 1,
      ...(character.genderCode == 'male' ? { assCount:1, cockCount:1 } : { pussyCount:1 }),
    });

    Abuser.addAnusInjury(character, { type:'smash', level:1, count:5, details:{ shape:'whip' }});
  }

});
